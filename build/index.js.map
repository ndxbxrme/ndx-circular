{
  "version": 3,
  "file": "index.js",
  "sourceRoot": "../src/",
  "sources": [
    "index.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "((global, factory) ->\r\n  if typeof exports is 'object' and typeof module isnt 'undefined'\r\n    module.exports = factory()\r\n  else if typeof define is 'function' and define.amd\r\n    define(factory)\r\n  else\r\n    global.ndxCircular = factory()\r\n) @, ->\r\n  flatten = (obj) ->\r\n    id = 0\r\n    visited = []\r\n    prepare = (obj) ->\r\n      type = Object.prototype.toString.call obj\r\n      if type is '[object Object]'\r\n        if not obj.dc_id\r\n          obj.dc_id = 'v' + ++id\r\n          visited.push obj\r\n          for key of obj\r\n            prepare obj[key]\r\n      else if type is '[object Array]'\r\n        for f of obj\r\n          prepare obj[f]\r\n      true\r\n    collapse = (obj) ->\r\n      type = Object.prototype.toString.call obj\r\n      if type is '[object Object]'\r\n        for key of obj\r\n          if (vObj = visited.indexOf(obj[key])) isnt -1\r\n            obj[key] =\r\n              vId: visited[vObj].dc_id\r\n          else\r\n            collapse obj[key]\r\n      else if type is '[object Array]'\r\n        for key of obj\r\n          if (vObj = visited.indexOf(obj[key])) isnt -1\r\n            obj[key] =\r\n              vId: visited[vObj].dc_id\r\n          else\r\n            collapse obj[key]\r\n      true\r\n    prepare obj\r\n    for v in visited\r\n      collapse v\r\n    output = {}\r\n    for v in visited\r\n      output[v.dc_id] = v\r\n      delete v.dc_id\r\n    output\r\n  inflate = (flattened) ->\r\n    visited = []\r\n    doInflate = (obj) ->\r\n      type = Object.prototype.toString.call obj\r\n      if type is '[object Object]'\r\n        if visited.indexOf(obj) is -1\r\n          visited.push obj\r\n          for key of obj\r\n            if obj[key] and obj[key].vId\r\n              obj[key] = flattened[obj[key].vId]\r\n            doInflate obj[key]\r\n      else if type is '[object Array]'\r\n        for key of obj\r\n          if obj[key] and obj[key].vId\r\n            obj[key] = flattened[obj[key].vId]\r\n          doInflate obj[key]\r\n      true\r\n    doInflate flattened.v1\r\n    flattened.v1\r\n  flatten: flatten\r\n  inflate: inflate\r\n"
  ]
}